class mkrHash {

    constructor(text){
	    this.rangeWidth = 10;
        this.key = '';
        this.i = 0;
        this.number = 0;
        this.gl_range = 0;
        this.arr = [];
        this.alphabet = [];
        this.numberSubRange = 0;
        this.alphabet_ranges = {};
        this.text = '';
        this.range_string = '';
        this.range = [];
        this.text = text;
        this.alphabet = [...new Set(text.split(''))];
        this.shuffle(this.alphabet);
        this.numberSubRange = this.alphabet.length;
        let [_start,_end] = this.getGlobalRange();
        let ranges = this.getRange(_start, _end);
        this.key = "#start-" + this.alphabet.map(el => el).join('') + "#end";
        ranges.forEach((el,k) =>{
          this.range_string += el[0].toString() + el[1].toString();
          this.alphabet_ranges[this.alphabet[k]] =  el;
        });
    }
    
    shuffle(array) {
      array.sort(() => Math.random() - 0.5);
    }
  
    
    getRange(start, end){
      do {
        this.number = this.getRandomArbitrary(start,end);
        if(this.ifOk(this.number)){
            this.arr.push(this.number);
            this.range.push([this.number,(this.number+this.rangeWidth)]);
        }
        this.i++;        
      } while (this.arr.length < this.numberSubRange);
      return this.range;
    }
    ifOk(n){
      if(this.arr.length > 0){
        for(let k=0; k<this.arr.length; k++){                                 
          if(Math.abs((n-this.arr[k])) <= this.rangeWidth){
            return false;
          }
        }
      }
      return true;
    }
    getRandomArbitrary(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    getGlobalRangeLength(){
      let rnd_number = this.getRandomArbitrary(4,9);
      this.gl_range = rnd_number;
      return rnd_number;
    }
    getGlobalRange(){
      let rangeLength = this.getGlobalRangeLength();
      let __start = "1";
      let __end = "";
      for(let i = 0; i < rangeLength;i++){
        __start += "0";
        __end += "9";
      }
      return [__start.slice(0,rangeLength), __end];
    }
    getHash(){
      let letters = this.text.split('');
      console.log(letters);
      console.log(this.gl_range.toString(), this.range_string);
      return this.gl_range.toString() + this.range_string + letters.map(el => this.alphabet_ranges[el] ? this.getRandomArbitrary(this.alphabet_ranges[el][0],this.alphabet_ranges[el][1]):'-').join('');
    }
    getKey(){
      return this.key;
    }
  }
  //obv
  //const _0x44d4=['_0xb71d9c','426483aUSmzq','slice','random','range','_0x5c76fd','130542DLfwmJ','_0x2b9a08','sort','map','172635cUOKxz','_0x2be982','_0x131f1e','key','2bIhAIG','length','_0x2ccc60','number','toString','_0x17bbab','_0x598aff','_0x1710a3','_0x461dff','floor','_0x5a66db','243028CpdkCs','_0x1ddb52','489qbEUaD','forEach','_0x5d1fb6','log','_0x56a292','_0x1c22d8','ceil','split','#start-','_0x469929','_0x32c42e','text','_0x39edce','_0x29e0db','213136xjFDQU','_0x5d935f','_0x5252dc','757GyRQnO','2whrwTF','_0x2fc4ab','_0x45f146','_0x1d38c9','396729DRCTXd','getKey','#end','push','_0x141586','_0x2f0a45'];function _0x52fa(_0x2a6df0,_0x48a44d){_0x2a6df0=_0x2a6df0-(0x229d*0x1+0x233f+-0x7*0x9d9);let _0x353941=_0x44d4[_0x2a6df0];return _0x353941;}const _0x1c700e=_0x52fa;(function(_0x143402,_0x360b64){const _0x24990e=_0x52fa;while(!![]){try{const _0xc9505b=parseInt(_0x24990e(0xfb))*-parseInt(_0x24990e(0x106))+parseInt(_0x24990e(0xee))+-parseInt(_0x24990e(0xf3))+parseInt(_0x24990e(0x116))+parseInt(_0x24990e(0x11a))*parseInt(_0x24990e(0xf7))+-parseInt(_0x24990e(0x119))*-parseInt(_0x24990e(0x108))+-parseInt(_0x24990e(0x11e));if(_0xc9505b===_0x360b64)break;else _0x143402['push'](_0x143402['shift']());}catch(_0x7377a9){_0x143402['push'](_0x143402['shift']());}}}(_0x44d4,0x1e5dd+-0xb7af*0x1+0x408b9));class mkrHash{constructor(_0x4de7c5){const _0x54ce4e=_0x52fa,_0x24838c={};_0x24838c['_0x2ccc60']=function(_0x5b9fc0,_0x4e6d65){return _0x5b9fc0+_0x4e6d65;},_0x24838c[_0x54ce4e(0x10d)]=function(_0x3f3932,_0x30eb34){return _0x3f3932+_0x30eb34;},_0x24838c[_0x54ce4e(0x114)]=_0x54ce4e(0x110),_0x24838c[_0x54ce4e(0xf8)]=_0x54ce4e(0x120);const _0x5e6ed8=_0x24838c;this[_0x54ce4e(0x112)]=0xa*-0x23d+0x5*-0xe3+0x1adb,this['key']='',this['_0x5252dc']=0x3*-0xac7+-0x1d40+0x3d95,this['number']=-0x115c+-0xdc2+0x1f1e,this['_0x141586']=0x185c+-0x23d5+0xb*0x10b,this[_0x54ce4e(0xf4)]=[],this[_0x54ce4e(0xf9)]=[],this['_0x29e0db']=-0xc12+0x305*0xc+0x6*-0x407,this[_0x54ce4e(0x105)]={},this[_0x54ce4e(0x113)]='',this[_0x54ce4e(0x123)]='',this['range']=[],this['text']=_0x4de7c5,this[_0x54ce4e(0xf9)]=[...new Set(_0x4de7c5[_0x54ce4e(0x10f)](''))],this['_0x2fc4ab'](this[_0x54ce4e(0xf9)]),this[_0x54ce4e(0x115)]=this[_0x54ce4e(0xf9)]['length'];let [_0x2aa0e6,_0x4dac72]=this['_0x1d38c9'](),_0x3a1311=this[_0x54ce4e(0x101)](_0x2aa0e6,_0x4dac72);this[_0x54ce4e(0xfa)]=_0x5e6ed8['_0x1c22d8'](_0x5e6ed8[_0x54ce4e(0x114)],this[_0x54ce4e(0xf9)][_0x54ce4e(0xf6)](_0x5ebe20=>_0x5ebe20)['join'](''))+_0x5e6ed8[_0x54ce4e(0xf8)],_0x3a1311[_0x54ce4e(0x109)]((_0x1bff51,_0x16f2aa)=>{const _0x2f37a3=_0x54ce4e;this[_0x2f37a3(0x123)]+=_0x5e6ed8[_0x2f37a3(0xfd)](_0x1bff51[-0x869*-0x3+0x1dbe+0x1253*-0x3][_0x2f37a3(0xff)](),_0x1bff51[0x171e+-0x754+-0x543*0x3][_0x2f37a3(0xff)]()),this[_0x2f37a3(0x105)][this[_0x2f37a3(0xf9)][_0x16f2aa]]=_0x1bff51;});}[_0x1c700e(0x11b)](_0x415cf2){const _0x3d15f0=_0x1c700e;_0x415cf2[_0x3d15f0(0xf5)](()=>Math[_0x3d15f0(0xf0)]()-(0x1daf+0x2e*-0x53+-0xec5+0.5));}[_0x1c700e(0x101)](_0x7d16e,_0xbe0bdd){const _0x5ed356=_0x1c700e,_0x2e28aa={};_0x2e28aa[_0x5ed356(0x107)]=function(_0x3fbe3c,_0x27b055){return _0x3fbe3c<_0x27b055;};const _0x251c86=_0x2e28aa;do{this[_0x5ed356(0xfe)]=this['_0x1710a3'](_0x7d16e,_0xbe0bdd),this[_0x5ed356(0x100)](this[_0x5ed356(0xfe)])&&(this[_0x5ed356(0xf4)]['push'](this[_0x5ed356(0xfe)]),this[_0x5ed356(0xf1)][_0x5ed356(0x121)]([this['number'],this[_0x5ed356(0xfe)]+this['_0x32c42e']])),this[_0x5ed356(0x118)]++;}while(_0x251c86[_0x5ed356(0x107)](this['_0x2b9a08'][_0x5ed356(0xfc)],this['_0x29e0db']));return this[_0x5ed356(0xf1)];}[_0x1c700e(0x100)](_0x2adbe3){const _0x143b2f=_0x1c700e,_0x46854d={};_0x46854d[_0x143b2f(0x103)]=function(_0x140b97,_0x3cad60){return _0x140b97>_0x3cad60;},_0x46854d[_0x143b2f(0x10c)]=function(_0x10578f,_0x1b60ba){return _0x10578f<_0x1b60ba;},_0x46854d['_0xb71d9c']=function(_0x5d2b37,_0x5631f9){return _0x5d2b37<=_0x5631f9;},_0x46854d[_0x143b2f(0x117)]=function(_0x5026ca,_0x3b5a48){return _0x5026ca-_0x3b5a48;};const _0x1f3431=_0x46854d;if(_0x1f3431[_0x143b2f(0x103)](this[_0x143b2f(0xf4)][_0x143b2f(0xfc)],0x138c+0x1c3a*-0x1+0x8ae))for(let _0x361223=-0x49*-0x21+-0x1c21+-0x4ae*-0x4;_0x1f3431[_0x143b2f(0x10c)](_0x361223,this['_0x2b9a08'][_0x143b2f(0xfc)]);_0x361223++){if(_0x1f3431[_0x143b2f(0xed)](Math['abs'](_0x1f3431[_0x143b2f(0x117)](_0x2adbe3,this[_0x143b2f(0xf4)][_0x361223])),this[_0x143b2f(0x112)]))return![];}return!![];}[_0x1c700e(0x102)](_0x4e84ef,_0x11b3e3){const _0x4485b7=_0x1c700e,_0x22abf0={};_0x22abf0[_0x4485b7(0x11c)]=function(_0x4c95bf,_0x5bb168){return _0x4c95bf+_0x5bb168;},_0x22abf0[_0x4485b7(0x10a)]=function(_0xf41e3,_0x19d39d){return _0xf41e3-_0x19d39d;};const _0x120f12=_0x22abf0;return _0x4e84ef=Math[_0x4485b7(0x10e)](_0x4e84ef),_0x11b3e3=Math['floor'](_0x11b3e3),_0x120f12[_0x4485b7(0x11c)](Math[_0x4485b7(0x104)](Math[_0x4485b7(0xf0)]()*_0x120f12['_0x45f146'](_0x120f12['_0x5d1fb6'](_0x11b3e3,_0x4e84ef),0xfb*0x1+0xe*0x122+-0x2*0x86b)),_0x4e84ef);}[_0x1c700e(0x111)](){const _0x3a4759=_0x1c700e;let _0x28f5d2=this[_0x3a4759(0x102)](-0x7b*-0x1c+0x76*-0x3b+0xdc2,0x1*-0xc79+-0x16d2+0x2354);return this[_0x3a4759(0x122)]=_0x28f5d2,_0x28f5d2;}[_0x1c700e(0x11d)](){const _0x27aae9=_0x1c700e;let _0x405bbb=this['_0x469929'](),_0x2bbba8='1',_0x12a017='';for(let _0x313943=0x1*-0xb11+0x2419+-0x1908;_0x313943<_0x405bbb;_0x313943++){_0x2bbba8+='0',_0x12a017+='9';}return[_0x2bbba8[_0x27aae9(0xef)](-0xa09*0x1+-0x738+0x1141,_0x405bbb),_0x12a017];}[_0x1c700e(0xf2)](){const _0x16cc59=_0x1c700e;let _0x15a3c0=this[_0x16cc59(0x113)][_0x16cc59(0x10f)]('');return console[_0x16cc59(0x10b)](_0x15a3c0),console[_0x16cc59(0x10b)](this[_0x16cc59(0x122)][_0x16cc59(0xff)](),this[_0x16cc59(0x123)]),this[_0x16cc59(0x122)][_0x16cc59(0xff)]()+this[_0x16cc59(0x123)]+_0x15a3c0[_0x16cc59(0xf6)](_0x1cd611=>this['_0x5a66db'][_0x1cd611]?this[_0x16cc59(0x102)](this[_0x16cc59(0x105)][_0x1cd611][0x61a+0x1fe5+-0x25ff],this[_0x16cc59(0x105)][_0x1cd611][0x13ce+-0x8fe*-0x2+0x1*-0x25c9]):'-')['join']('');}[_0x1c700e(0x11f)](){const _0x4fc65d=_0x1c700e;return this[_0x4fc65d(0xfa)];}}
  //let result = new mkrHash("test");
  // result.getHash();
  // result.getKey();
